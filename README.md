我要写一个线上k-12少儿编程领域的学情知识库系统，学生们主要学习C++、Python、Scratch。我期待，最终所有用户可以用GUI或者API方式（先忽略API的设计，假设就只有GUI方式）和这个系统互动，类似于我问一句，这个系统答一句，就像LLM一样。只不过，这个LLM非常懂得我们公司的学员们的学情。

我认为，这样的学情知识库，它的建模是重中之重，它和具体的需求紧密相关。

围绕这个系统，有几个关键角色（及其典型需求）：教师（要做学习预警、发现干预机会、生成学习档案、生成阶段学习报告）、教研（了解学生们在某些单课、单元、课程上的学习情况以迭代课程）、赛事（围绕学生整体能力设计题目）。

在我的设计中，系统的核心在于记忆结构的设计，以及与之相关的工具（即agent的tool），只要LLM在运行时知道记忆的结构及其工具，就能抓取到合适的上下文并插入messages中，以此获取推理的私有信息依据。

在我的设计中，记忆分为三大部分：情景记忆、初级语义记忆、业务语义记忆。情景记忆构建出初级语义记忆，初级语义记忆构建出业务语义记忆。在我给你说它们三个之前，我要先给你说一个贯穿在情景记忆和语义记忆之间的抽象结构。

你要知道，孩子无论使用何种教学工具，关键是，你要了解课程的结构，这是一切的核心。我们有很多课程，每个课程有多个单元，每个单元有多个单课。教研在设计课程时，都有学习目标/教学目标（文本形式），包括课程的、单元的、单课的都有，目标有知识、技能、能力上的描述。并且，按照逆向设计UbD的思想，评测题目也都提前根据目标设计好，嵌入到了线上课程的单课的各个教学环节中。

这个结构之所以重要，是因为在我看来，如果把课程、单元、单课、教学环节视为一个依次包含的关系，那么情景记忆就是最小的教学环节的学生表现。本质上说，我们构建的所有语义记忆，说到底都源于学生的全部学习表现。有了学习表现，配合课程各层级的目标，就可以评价学生的知识、技能、能力。

其实，我已经告诉你了情景记忆的设计线索。让我们看看初级语义记忆。这个层次我认为很重要且有必要，因为当AI构建出这一个层次后，业务就可以直接通过tool调取更加抽象的信息。实际上，初级语义记忆，我认为就包含三大部分：知识、技能、能力。这三个部分还是有区别的，知识，比如学生的变量的理解程度（显然，我们需要诸多情景记忆的佐证）；技能，比如学生在循环中使用变量（同样，需要情景记忆作为证据）；能力，主要是以计算思维为主，它是知识和技能的更加抽象的表述（需要证据）。你看到了，我一直在强调“证据”，我觉得这是一个很好的范式，符合逻辑，所有的分析，当然应该基于学习表现作为证据。因此，这些特殊的数据结构，必然包含了情景记忆的id。我想，你应该可以设计出这三部分的结构了。你也要注意，知识、技能、能力之间，可能也会有主从关系。

让我们再看看业务语义记忆。比如，教师的学习预警，该业务需求一定可以从初级语义记忆中获得。我们的系统可以提前构建好这些记忆，然后快速提供给老师，至于老师如何使用（比如，他把这个文本复制走后交给LLM问它如何处理），就交给老师了。类似的逻辑还包括我上面和你说的各个业务方的需求。

我们再看看各个记忆层次上的tool。我们要设置好各种tool，从而帮助ai自我推断有工具可用。因为这个学情知识库系统要面向公司内部人员的任何提问，那么它所具有的工具就是重中之重了。不然它没法查询这个学情数据库。

我能想到的工具包括有：
- 给定情景记忆id查询情景记忆细节。
- 查询初级语义记忆中有什么结构。
- 给学生id查询初级语义的信息。

---
接下来，请你帮我实现一个可运行的迷你demo。
- 有一个课程json文件，其中你帮我随机设计一些课程内容。其中包含了课程目标、单元目标、单课目标、教学环节概述。特别是评测题目，它表示了教研对目标应达成的学习表现，是学习结果的重要证据。该配置文件要包含至少三种工具的课程，年级是随机的。为了简单，你的课程json文件无需设计多么庞大的课程，每种工具设计4个单元，每个单元包含4节单课即可。
- 实现一个发送情景记忆的页面。显然，该发送的内容和课程json文件的教学环节有紧密关联。当我发送一个情景记忆时，相当于学生完成了某个教学环节的某个任务，可能是使用创作工具（C++、Python、Scratch）创作，也可能是学生完成了某些练习题。
- 可以再发送情景记忆的页面中创建学生、查看已有学生的学习进度、切换任何学生。也就是说，发送的情景记忆和学生有直接关联。
- 每当我提交一个情景记忆，我就能实时看到AI正在借助课程文件中的目标描述，及其相关的情景记忆，以及一些专业的提示词，可视化呈现出当前学生的知识，技能，能力的初级语义记忆。只有当初级语义记忆，构建完之后我才能提交下一个情景记忆。每个学生提交情景记忆，都是按照课程的流程顺序依次执行的。
- 再一次说明，初级语义记忆并非孤立的点，它们应该就像知识图谱一样，都是网状的存在，并且有情景记忆作为证据。
- 情景记忆和初级语义记忆应该被记录在了某些数据库文件中。为了简单，我们可以先使用json文件本地化存储作为一个临时demo方案。
- 目前，我们至少拥有多个持久化存储结构（目前都是以json文件为结构），包括课程、情景记忆、初级语义记忆。初级语义记忆是非常复杂的，它可能是树状层次结构，上层更抽象。
- 关于业务语义记忆，我希望可以先实现几个简单的，而且每个都要有相应的页面，我可以可视化地看到它的构建过程是如何获取初级语义结构的。
- 系统中的工具非常重要，有一个组件页面，我可以像整个系统提问，而这个系统可以使用内部工具（说到底，这些工具会去搜索上面提到的持久化存储结构中去寻找信息）去整理上下文，并嵌入messages列表后进行问答。所以请你确保这些工具的设计，围绕各层次记忆，是比较完备全面的。

---
接下来是一些技术方案：
- 请使用vite、vue3、elementplus、fastapi作为技术栈，数据库先试用json文件作为临时方案。
- 有一个组件页面，可以配置openai接口数据。我需要设置的参数仅涉及base_url、api_key、model_name、max_tokens。

---
> 使用的是 cursor/claude 4 opus max，项目使用的模型doubao seed 1.6 thinking
> 项目截图参考这里 https://mp.weixin.qq.com/s/H6bpeW6VRHUmrY5Bl_PvHA
